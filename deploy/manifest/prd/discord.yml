apiVersion: apps/v1
kind: Deployment
metadata:
  name: mawinter-discord
spec:
  selector:
    matchLabels:
      app: mawinter-discord
  template:
    metadata:
      labels:
        app: mawinter-discord
    spec:
      resource:
      containers:
      - name: mawinter-discord
        image: ghcr.io/azuki774/mawinter-discord:latest
        imagePullPolicy: Always
        env:
        - name: RUNENV
          value: production
        - name: TZ
          value: Asia/Tokyo
        - name: USE_MOCK
          value: "0"
        - name: USER_MAWINTER_PATH
          value: https://siberia.azk774.net/mawinter/
        - name: USER_DISCORD_ID
          value: "288297568369246208"
        - name: USER_DISCORD_NAME
          value: azuki
        - name: AUTH_TOKEN
          valueFrom:
            secretKeyRef:
              name: maw-discord-secret
              key: AUTH_TOKEN
        - name: USER_MAWINTER_USER
          valueFrom:
            secretKeyRef:
              name: maw-basic-auth
              key: username
        - name: USER_MAWINTER_PASS
          valueFrom:
            secretKeyRef:
              name: maw-basic-auth
              key: password
